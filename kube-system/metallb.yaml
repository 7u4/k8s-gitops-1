apiVersion: flux.weave.works/v1beta1
kind: HelmRelease
metadata:
  name: metallb
  namespace: kube-system
  annotations:
    flux.weave.works/automated: "true"
spec:
  releaseName: metallb
  chart:
    repository: https://kubernetes-charts.storage.googleapis.com/
    name: metallb
    version: 0.9.5
  values:
    configInline:
        #peers:
        #- peer-address: 10.20.0.1
        #  peer-asn: 64512
        #  my-asn: 64512
        #address-pools:
        #- name: default
        #  protocol: bgp
        #  addresses:
        #  - 10.20.50.0/24
        address-pools:
        - name: default
          protocol: layer2
          addresses:
          - 10.20.50.100-10.20.50.250
